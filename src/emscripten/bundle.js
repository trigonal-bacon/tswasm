!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.WebAssembly=o():e.WebAssembly=o()}(this,(()=>(()=>{"use strict";var e={51:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0});const i=t(904),_=t(438),n=t(636),a=t(451);function r(e,o){if(o===a.WASMValueType.nil){if(0===e.length)return;throw new RangeError(`Expected empty stack, got ${e.length}`)}const t=e.pop();if(void 0===t)throw new i.CompileError("Impossible");if(t!==o)throw new TypeError(`Type mismatch: expected ${(0,a.typeToString)(o)}, got ${(0,a.typeToString)(t)}`)}function s(e,o){if(o===a.WASMValueType.nil){if(0===e.length)return;throw new RangeError(`Expected empty stack, got ${e.length}`)}if(1!==e.length)throw new RangeError(`Error on return, expected 1 argument on stack, got ${e.length}`);const t=e[0];if(void 0===t)throw new i.CompileError("Impossible");if(t!==o)throw new TypeError(`Type mismatch: expected ${(0,a.typeToString)(o)}, got ${(0,a.typeToString)(t)}`)}o.default=class{constructor(){this.funcTypes=[],this.globalTypes=[],this.importFunc=0,this.importGlobal=0,this.tableCount=0,this.memoryCount=0,this.section1=new n.WASMSection,this.section2=new n.WASMSection,this.section3=new n.WASMSection,this.section4=new n.WASMSection,this.section5=new n.WASMSection,this.section6=new n.WASMSection,this.section7=new n.WASMSection,this.section8=new n.WASMSection8Content,this.section9=new n.WASMSection,this.section10=new n.WASMSection,this.section11=new n.WASMSection,this.section12=new n.WASMSection12Content,this.sectionLengths=new Array(13).fill(0)}has_section(e){return 0!==this.sectionLengths[e]}validate(){if(this.has_section(12)&&this.has_section(11)&&this.section12.dataCount!==this.section11.content.length)throw new RangeError(`Invalid data count, expected ${this.section12.dataCount}, got ${this.section11.content.length}`);if(this.has_section(3)){if(!this.has_section(1))throw new Error("Missing functype section");for(let e=0;e<this.funcTypes.length;++e)if(this.funcTypes[e]>=this.section1.content.length)throw new RangeError(`Invalid functype ${this.funcTypes[e]} for $func${e}`)}if(this.has_section(10)){if(this.section10.content.length!==this.section3.content.length)throw new RangeError(`Function count mismatch: ${this.section3.content.length} declared, ${this.section10.content.length} iniialized`);for(let e=0;e<this.section10.content.length;++e){const o=this.section10.content[e],t=[],i=this.section1.content[this.section3.content[e].index];for(let e=0;e<i.args.length;++e)t.push(i.args[e]);for(let e=0;e<o.locals.length;++e)for(let i=0;i<o.locals[e].count;++i)t.push(o.locals[e].type);this.validateCodeBlock(o.code,t,i.ret)}}if(this.has_section(8)){const e=this.section8.index;if(e<this.importFunc)throw new Error(`Start function ${e} is an import`);if(e>=this.funcTypes.length)throw new RangeError(`Start function ${e} out of bounds`);const o=this.section1.content[this.funcTypes[e]];if(0!==o.args.length||o.ret!==a.WASMValueType.nil)throw new Error("Start function must not take or return values")}if(this.has_section(7))for(const e of this.section7.content)switch(e.kind){case 0:if(e.index>=this.funcTypes.length)throw new Error(`Exported function ${e.index} out of range`);break;case 1:if(e.index>=this.tableCount)throw new Error(`Exported table ${e.index} out of range`);break;case 2:if(e.index>=this.memoryCount)throw new Error(`Exported memory ${e.index} out of range`);break;case 3:if(e.index>=this.globalTypes.length)throw new Error(`Exported global ${e.index} out of range`);if(!1===this.globalTypes[e.index].mutable)throw new Error(`Exported global ${e.index} immutable`);break;default:throw new Error("Shouldn't happen")}if(this.memoryCount>1)throw new RangeError(`${this.memoryCount} memory declarations present, only at most one allowed`)}__validateCodeBlockRecursive(e,o,t,i,n){const p=[],l=o.length,u=this.globalTypes.length,c=this.funcTypes.length;for(const f of e){const e=f.immediates;switch(f.instr){case _.WASMOPCode.op_local_get:if(e[0].u32>=l)throw new RangeError(`Local index ${e[0].u32} out of bounds`);p.push(o[e[0].u32]);break;case _.WASMOPCode.op_local_set:if(e[0].u32>=l)throw new RangeError(`Local index ${e[0].u32} out of bounds`);r(p,o[e[0].u32]);break;case _.WASMOPCode.op_local_tee:if(e[0].u32>=l)throw new RangeError(`Local index ${e[0].u32} out of bounds`);r(p,o[e[0].u32]),p.push(o[e[0].u32]);break;case _.WASMOPCode.op_global_get:if(e[0].u32>=u)throw new RangeError(`Global index ${e[0].u32} out of bounds`);p.push(this.globalTypes[e[0].u32].type);break;case _.WASMOPCode.op_global_set:if(e[0].u32>=u)throw new RangeError(`Global index ${e[0].u32} out of bounds`);if(!this.globalTypes[e[0].u32].mutable)throw new RangeError(`Attempt to mutate immutable global ${e[0].u32}`);r(p,this.globalTypes[e[0].u32].type);break;case _.WASMOPCode.op_call:{const o=e[0].u32;if(o>=c)throw new RangeError(`Function index ${o} out of bounds`);const t=this.section1.content[this.funcTypes[o]];for(let e=t.args.length;e>0;--e)r(p,t.args[e-1]);t.ret!==a.WASMValueType.nil&&p.push(t.ret);break}case _.WASMOPCode.op_call_indirect:{if(0===this.tableCount)throw new RangeError("No vtables to access");const o=e[0].u32;if(o>=this.section1.content.length)throw new RangeError(`Type index ${o} out of bounds`);r(p,a.WASMValueType.i32);const t=this.section1.content[o];for(let e=t.args.length;e>0;--e)r(p,t.args[e-1]);t.ret!==a.WASMValueType.nil&&p.push(t.ret);break}case _.WASMOPCode.op_br_if:r(p,a.WASMValueType.i32);case _.WASMOPCode.op_br:if(e[0].u32>=t.length)throw new RangeError(`Invalid block depth ${e[0].u32}`);if(s(p,t[t.length-1-e[0].u32]),f.instr===_.WASMOPCode.op_br)return;break;case _.WASMOPCode.op_br_table:r(p,a.WASMValueType.i32),s(p,i);for(let o=1;o<e.length;++o)s(p,t[t.length-1-e[o].u32]);break;case _.WASMOPCode.op_if:t.push(e[0].u32),r(p,a.WASMValueType.i32),this.__validateCodeBlockRecursive(f.child,o,t,e[0].u32,n),f.hasElse&&this.__validateCodeBlockRecursive(f.child2,o,t,e[0].u32,n),e[0].u32!==a.WASMValueType.nil&&p.push(e[0].u32),t.pop();break;case _.WASMOPCode.op_drop:if(0===p.length)throw new RangeError("Expected at least 1 value on stack for drop, got 0");p.pop();break;case _.WASMOPCode.op_loop:t.push(a.WASMValueType.nil),this.__validateCodeBlockRecursive(f.child,o,t,e[0].u32,n),e[0].u32!==a.WASMValueType.nil&&p.push(e[0].u32),t.pop();break;case _.WASMOPCode.op_block:t.push(e[0].u32),this.__validateCodeBlockRecursive(f.child,o,t,e[0].u32,n),e[0].u32!==a.WASMValueType.nil&&p.push(e[0].u32),t.pop();break;case _.WASMOPCode.op_unreachable:return;case _.WASMOPCode.op_return:return void s(p,n);case _.WASMOPCode.op_select:{if(r(p,a.WASMValueType.i32),p.length<2)throw new RangeError(`Expected at least 2 values on stack for select, got ${p.length}`);const e=p.pop(),o=p.pop();if(e!==o||null==e)throw new RangeError(`Select operands ${e} and ${o} do not match`);p.push(e);break}default:{const e=_.WASMOPDefs[f.instr];if(p.length<e.args.length)throw new RangeError(`Expected at least ${e.args.length} values for ${f.instr}, got ${p.length}`);for(let o=e.args.length;o>0;--o)r(p,e.args[o-1]);e.ret!==a.WASMValueType.nil&&p.push(e.ret);break}}}s(p,i)}validateCodeBlock(e,o,t){this.__validateCodeBlockRecursive(e,o,[],t,t)}}},156:function(e,o,t){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});const _=i(t(928)),n=i(t(973)),a=i(t(316)),r=t(200),s=t(904),p={compile:e=>new Promise(((o,t)=>{o(new _.default(e))})),instantiate:(e,o={})=>new Promise(((t,i)=>{const n=new _.default(e);t({module:n,instance:new r.Program(n,o)})})),Module:_.default,Instance:r.Program,Table:a.default,Memory:n.default,CompileError:s.CompileError,LinkError:s.LinkError,RuntimeError:s.RuntimeError};o.default=p},175:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){for(const o of e)switch(o.instr){case _.WASMOPCode.op_global_get:throw new i.CompileError("global_get constexpr not yet supported");case _.WASMOPCode.op_i32_const:case _.WASMOPCode.op_i64_const:case _.WASMOPCode.op_f32_const:case _.WASMOPCode.op_f64_const:return o.immediates[0];default:throw new i.CompileError("Not a constexpr")}throw new i.CompileError("Failed to evaluate constexpr")};const i=t(904),_=t(438)},200:function(e,o,t){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0}),o.Program=void 0;const _=t(984),n=t(317),a=t(438),r=t(451),s=t(377),p=i(t(973)),l=i(t(316)),u=t(560),c=i(t(175)),f=t(830),S=t(444),d=t(763),M=t(904);class A{constructor(e,o){this.locals=e,this.pc=o}}function W(e,o){e.push(o)}function h(e){if(0===e.length)throw new M.RuntimeError("Stack empty, cannot pop");const o=e[e.length-1];return--e.length,o}function y(e,o){e.at=4*o,e.at=e.read_u32()}o.Program=class{constructor(e,o){if(this.code=new Uint8Array(0),this.memory=new p.default({}),this.funcTypes=[],this.globals=[],this.tables=[],this.importedFuncs=[],this.importFuncCount=0,this.importGlobalCount=0,this.funcCount=0,this.exports={},this.code=(0,u.convertToExecForm)(e),this.importFuncCount=e.importFunc,this.importGlobalCount=e.importGlobal,e.has_section(1)&&(this.funcTypes=e.funcTypes.map((o=>e.section1.content[o]))),e.has_section(2)&&this.initializeImports(o,e.section2.content),e.has_section(3)&&(this.funcCount=e.section3.content.length),e.has_section(4)&&this.initializeTables(e.section4.content),e.has_section(5)){let o=0,t=0;for(const i of e.section5.content)o=i.min,t=Math.max(i.max,i.min);this.initializeMemory(o,t)}if(e.has_section(6))for(const o of e.section6.content)this.globals.push((0,c.default)(o.expr));if(e.has_section(9)){if(0===this.tables.length)throw new M.LinkError("Expected a table initialization");for(const o of e.section9.content){const e=(0,c.default)(o.offset).u32;if(e+o.funcrefs.length>this.tables[0].length)throw new M.LinkError("Out of Bounds element initialization");for(let t=0;t<o.funcrefs.length;++t)this.tables[0].elements[t+e]=o.funcrefs[t]}}if(e.has_section(11))for(const o of e.section11.content){const e=(0,c.default)(o.offset).u32;if(e+o.data.length>this.memory.length)throw new M.LinkError("Out of bounds data initialization");this.memory._buffer.set(o.data,e)}if(e.has_section(7))for(const o of e.section7.content)switch(o.kind){case 0:{const e=this.funcTypes[o.index],t=e.args.length,i=(...i)=>{const _=[];for(let o=0;o<t;++o)switch(e.args[o]){case r.WASMValueType.i32:_.push((0,d.newI32)(i[o]));break;case r.WASMValueType.f32:_.push((0,d.newF32)(i[o]));break;case r.WASMValueType.i64:_.push((0,d.newI64)(BigInt(i[o])));break;case r.WASMValueType.f64:_.push((0,d.newF64)(i[o]))}return this.run(o.index,_)};this.exports[o.name]=i;break}case 1:this.exports[o.name]=this.tables[o.index];break;case 2:this.exports[o.name]=this.memory;break;case 3:this.exports[o.name]=new s.WASMExternalGlobal({}),this.exports[o.name]._value=this.globals[o.index]}e.has_section(8)&&this.run(e.section8.index,[])}initializeMemory(e,o){this.memory=new p.default({initial:e,maximum:o})}initializeImports(e,o){let t=0;for(const i of o){const o=i.module,_=i.name;if("object"!=typeof e[o])throw new M.LinkError(`Imported module [${o}] does not exist or is not an object`);switch(i.kind){case 0:{const t=e[o][_];if(!(t instanceof Function))throw new M.LinkError(`Invalid import ${o}.${_}: expected function`);this.importedFuncs.push(t);break}case 1:{const t=e[o][_];if(!(t instanceof l.default))throw new M.LinkError(`Invalid import ${o}.${_}: expected WebAssembly.table`);this.tables.push(t);break}case 2:{const t=e[o][_];if(!(t instanceof p.default))throw new M.LinkError(`Invalid import ${o}.${_}: expected WebAssembly.Memory`);if(t.init!==i.limits.min)throw new M.LinkError("Imported memory initial size wrong");if(t.max!==i.limits.max)throw new M.LinkError("Imported memory maximum size wrong");this.memory=t;break}case 3:{const n=e[o][_];if(!(n instanceof s.WASMExternalGlobal))throw new M.LinkError(`Invalid import ${o}.${_}: expected WebAssembly.Global`);if(n._value.type!==i.type)throw new M.LinkError("Imported global type mismatch");++t,this.globals.push(n._value);break}default:throw new M.LinkError("Unexpected import type")}}if(this.importFuncCount!==this.importedFuncs.length)throw new M.LinkError(`Function import count mismatch: expected ${this.importFuncCount}, got ${this.importedFuncs.length}`);if(this.importGlobalCount!==t)throw new M.LinkError(`Global import count mismatch: expected ${this.importGlobalCount}, got ${t}`)}initializeTables(e){for(const o of e)this.tables.push(new l.default({initial:o.limit.min,maximum:o.limit.max}))}run(e,o){if(e<0||e>=this.funcCount+this.importFuncCount)throw new RangeError("Function index out of range");if(e<this.importFuncCount){console.warn("Attempting to expernally call an imported function");const t=new Array(this.funcTypes[e].args.length);for(let e=t.length;e>0;--e)t[e]=o[e].numeric;return this.importedFuncs[e](...t)}const t=new _.FixedLengthReader(this.code);y(t,e-this.importFuncCount);const i=[],s=[];let p=this.memory._buffer,l=t.read_u32(),u=t.read_u32(),c=new Array(l+u);if(l!==o.length)throw new RangeError(`Expected ${l} arguments to function call, got ${o.length}`);for(let t=0;t<l;++t){if(this.funcTypes[e].args[t]!==o[t].type)throw new TypeError(`Function expected [${(0,r.typeArrayToString)(this.funcTypes[e].args)}], got [${(0,r.typeArrayToString)(o.map((e=>e.type)))}]`);c[t]=o[t]}for(let e=0;e<u;++e)c[l+e]=new n.WASMValue;for(;;){const o=t.read_instr();switch(o){case a.WASMOPCode.op_unreachable:throw new M.RuntimeError("Unreachable");case a.WASMOPCode.op_nop:case a.WASMOPCode.op_block:case a.WASMOPCode.op_loop:break;case a.WASMOPCode.op_if:{const e=t.read_u32();0===h(i).i32&&(t.at=e);break}case a.WASMOPCode.op_br:{const e=t.read_u32();t.at=e;break}case a.WASMOPCode.op_br_if:{const e=t.read_u32();0!==h(i).i32&&(t.at=e);break}case a.WASMOPCode.op_br_table:{const e=h(i).i32,o=t.read_u32(),_=t.at;t.at=e>=0&&e<o?_+4*e:_+4*o,t.at=t.read_u32();break}case a.WASMOPCode.op_return:if(0===s.length){if(this.funcTypes[e].ret!==r.WASMValueType.nil){if(1!==i.length)throw new M.RuntimeError(`Stack size ${i.length} not exactly 1`);return h(i).numeric}if(0!==i.length)throw new M.RuntimeError("Stack expected to be empty");return}{const e=s.pop();void 0!==e&&(c=e.locals)&&(t.at=e.pc)}break;case a.WASMOPCode.op_call:{const e=t.read_u32();if(e<this.importFuncCount){const o=new Array(this.funcTypes[e].args.length);for(let e=o.length;e>0;--e)o[e-1]=h(i).numeric;const t=this.importedFuncs[e](...o);switch(this.funcTypes[e].ret){case r.WASMValueType.i32:W(i,(0,d.newI32)(t));break;case r.WASMValueType.f32:W(i,(0,d.newF32)(t));break;case r.WASMValueType.i64:W(i,(0,d.newI64)(BigInt(t)));break;case r.WASMValueType.f64:W(i,(0,d.newF64)(t));case r.WASMValueType.nil:}break}const o=new A(c,t.at);s.push(o),y(t,e-this.importFuncCount);const _=t.read_u32(),a=t.read_u32();c=new Array(_+a);for(let e=_;e>0;--e)c[e-1]=h(i);for(let e=0;e<a;++e)c[e+_]=new n.WASMValue;break}case a.WASMOPCode.op_call_indirect:{const e=h(i).i32;if(0===this.tables.length)throw new M.RuntimeError("No table to index into for call_indirect");if(e<0||e>=this.tables[0].length)throw new M.RuntimeError(`Table index ${e} out of bounds`);const o=this.tables[0].get(e);if(o<this.importFuncCount){const e=new Array(this.funcTypes[o].args.length);for(let o=e.length;o>0;--o)e[o-1]=h(i).numeric;const t=this.importedFuncs[o](...e);switch(this.funcTypes[o].ret){case r.WASMValueType.i32:W(i,(0,d.newI32)(t));break;case r.WASMValueType.f32:W(i,(0,d.newF32)(t));break;case r.WASMValueType.i64:W(i,(0,d.newI64)(BigInt(t)));break;case r.WASMValueType.f64:W(i,(0,d.newF64)(t));case r.WASMValueType.nil:}break}const _=new A(c,t.at);s.push(_),y(t,o-this.importFuncCount);const a=t.read_u32(),p=t.read_u32();c=new Array(a+p);for(let e=a;e>0;--e)c[e-1]=h(i);for(let e=0;e<p;++e)c[e+a]=new n.WASMValue;break}case a.WASMOPCode.op_drop:h(i);break;case a.WASMOPCode.op_select:{const e=h(i).i32,o=h(i),t=h(i);W(i,0!==e?t:o);break}case a.WASMOPCode.op_local_get:{const e=t.read_u32();if(e>=c.length)throw new M.RuntimeError(`Local index ${e} OOB`);W(i,c[e]);break}case a.WASMOPCode.op_local_set:{const e=t.read_u32();if(e>=c.length)throw new M.RuntimeError(`Local index ${e} OOB`);c[e]=h(i);break}case a.WASMOPCode.op_local_tee:{const e=t.read_u32();if(e>=c.length)throw new M.RuntimeError(`Local index ${e} OOB`);const o=h(i);c[e]=o,W(i,o);break}case a.WASMOPCode.op_global_get:{const e=t.read_u32();if(e>=this.globals.length)throw new M.RuntimeError(`Global index ${e} OOB`);W(i,this.globals[e]);break}case a.WASMOPCode.op_global_set:{const e=t.read_u32();if(e>=this.globals.length)throw new M.RuntimeError(`Global index ${e} OOB`);const o=h(i);this.globals[e].set(o);break}case a.WASMOPCode.op_i32_load:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,4),W(i,(0,d.newI32)(S.CONVERSION_INT32[0]));break}case a.WASMOPCode.op_i64_load:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,8),W(i,(0,d.newI64)(S.CONVERSION_INT64[0]));break}case a.WASMOPCode.op_f32_load:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,4),W(i,(0,d.newF32)(S.CONVERSION_FLOAT32[0]));break}case a.WASMOPCode.op_f64_load:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,8),W(i,(0,d.newF64)(S.CONVERSION_FLOAT64[0]));break}case a.WASMOPCode.op_i32_load8_s:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,1),W(i,(0,d.newI32)(S.CONVERSION_INT8[0]));break}case a.WASMOPCode.op_i32_load8_u:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,1),W(i,(0,d.newI32)(S.CONVERSION_UINT8[0]));break}case a.WASMOPCode.op_i32_load16_s:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,2),W(i,(0,d.newI32)(S.CONVERSION_INT16[0]));break}case a.WASMOPCode.op_i32_load16_u:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,2),W(i,(0,d.newI32)(S.CONVERSION_UINT16[0]));break}case a.WASMOPCode.op_i64_load8_s:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,1),W(i,(0,d.newI64)(BigInt(S.CONVERSION_INT8[0])));break}case a.WASMOPCode.op_i64_load8_u:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,1),W(i,(0,d.newI64)(BigInt(S.CONVERSION_UINT8[0])));break}case a.WASMOPCode.op_i64_load16_s:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,2),W(i,(0,d.newI64)(BigInt(S.CONVERSION_INT16[0])));break}case a.WASMOPCode.op_i64_load16_u:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,2),W(i,(0,d.newI64)(BigInt(S.CONVERSION_UINT16[0])));break}case a.WASMOPCode.op_i64_load32_s:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,4),W(i,(0,d.newI64)(BigInt(S.CONVERSION_INT32[0])));break}case a.WASMOPCode.op_i64_load32_u:{const e=t.read_u32(),o=h(i).i32;(0,S.toConvert)(p,o+e,4),W(i,(0,d.newI64)(BigInt(S.CONVERSION_UINT32[0])));break}case a.WASMOPCode.op_i32_store:{const e=t.read_u32(),o=h(i).i32,_=h(i).i32;S.CONVERSION_INT32[0]=o,(0,S.fromConvert)(p,_+e,4);break}case a.WASMOPCode.op_i64_store:{const e=t.read_u32(),o=h(i).i64,_=h(i).i32;S.CONVERSION_INT64[0]=o,(0,S.fromConvert)(p,_+e,8);break}case a.WASMOPCode.op_f32_store:{const e=t.read_u32(),o=h(i).f32,_=h(i).i32;S.CONVERSION_FLOAT32[0]=o,(0,S.fromConvert)(p,_+e,4);break}case a.WASMOPCode.op_f64_store:{const e=t.read_u32(),o=h(i).f64,_=h(i).i32;S.CONVERSION_FLOAT64[0]=o,(0,S.fromConvert)(p,_+e,8);break}case a.WASMOPCode.op_i32_store8:{const e=t.read_u32(),o=h(i).i32,_=h(i).i32;S.CONVERSION_INT32[0]=o,(0,S.fromConvert)(p,_+e,1);break}case a.WASMOPCode.op_i32_store16:{const e=t.read_u32(),o=h(i).i32,_=h(i).i32;S.CONVERSION_INT32[0]=o,(0,S.fromConvert)(p,_+e,2);break}case a.WASMOPCode.op_i64_store8:{const e=t.read_u32(),o=h(i).i64,_=h(i).i32;S.CONVERSION_INT64[0]=o,(0,S.fromConvert)(p,_+e,1);break}case a.WASMOPCode.op_i64_store16:{const e=t.read_u32(),o=h(i).i64,_=h(i).i32;S.CONVERSION_INT64[0]=o,(0,S.fromConvert)(p,_+e,2);break}case a.WASMOPCode.op_i64_store32:{const e=t.read_u32(),o=h(i).i64,_=h(i).i32;S.CONVERSION_INT64[0]=o,(0,S.fromConvert)(p,_+e,4);break}case a.WASMOPCode.op_memory_size:W(i,(0,d.newI32)(this.memory.init));break;case a.WASMOPCode.op_memory_grow:W(i,(0,d.newI32)(this.memory.init)),console.warn("Memory grow not implemented");break;case a.WASMOPCode.op_i32_const:W(i,(0,d.newI32)(t.read_i32()));break;case a.WASMOPCode.op_i64_const:W(i,(0,d.newI64)(t.read_i64()));break;case a.WASMOPCode.op_f32_const:W(i,(0,d.newF32)(t.read_f32()));break;case a.WASMOPCode.op_f64_const:W(i,(0,d.newF64)(t.read_f64()));break;case a.WASMOPCode.op_i32_eqz:{const e=h(i).i32;W(i,(0,d.newI32)((0,f.toTruthy)(0===e)));break}case a.WASMOPCode.op_i32_eq:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)((0,f.toTruthy)(o===e)));break}case a.WASMOPCode.op_i32_ne:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)((0,f.toTruthy)(o!==e)));break}case a.WASMOPCode.op_i32_lt_s:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)((0,f.toTruthy)(o<e)));break}case a.WASMOPCode.op_i32_lt_u:{S.CONVERSION_INT32[0]=h(i).i32;const e=S.CONVERSION_UINT32[0];S.CONVERSION_INT32[0]=h(i).i32;const o=S.CONVERSION_UINT32[0];W(i,(0,d.newI32)((0,f.toTruthy)(o<e)));break}case a.WASMOPCode.op_i32_gt_s:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)((0,f.toTruthy)(o>e)));break}case a.WASMOPCode.op_i32_gt_u:{S.CONVERSION_INT32[0]=h(i).i32;const e=S.CONVERSION_UINT32[0];S.CONVERSION_INT32[0]=h(i).i32;const o=S.CONVERSION_UINT32[0];W(i,(0,d.newI32)((0,f.toTruthy)(o>e)));break}case a.WASMOPCode.op_i32_le_s:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)((0,f.toTruthy)(o<=e)));break}case a.WASMOPCode.op_i32_le_u:{S.CONVERSION_INT32[0]=h(i).i32;const e=S.CONVERSION_UINT32[0];S.CONVERSION_INT32[0]=h(i).i32;const o=S.CONVERSION_UINT32[0];W(i,(0,d.newI32)((0,f.toTruthy)(o<=e)));break}case a.WASMOPCode.op_i32_ge_s:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)((0,f.toTruthy)(o>=e)));break}case a.WASMOPCode.op_i32_ge_u:{S.CONVERSION_INT32[0]=h(i).i32;const e=S.CONVERSION_UINT32[0];S.CONVERSION_INT32[0]=h(i).i32;const o=S.CONVERSION_UINT32[0];W(i,(0,d.newI32)((0,f.toTruthy)(o>=e)));break}case a.WASMOPCode.op_i64_eqz:{const e=h(i).i64;W(i,(0,d.newI32)((0,f.toTruthy)(e===BigInt(0))));break}case a.WASMOPCode.op_i64_eq:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI32)((0,f.toTruthy)(o===e)));break}case a.WASMOPCode.op_i64_ne:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI32)((0,f.toTruthy)(o!==e)));break}case a.WASMOPCode.op_i64_lt_s:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI32)((0,f.toTruthy)(o<e)));break}case a.WASMOPCode.op_i64_lt_u:{S.CONVERSION_INT64[0]=h(i).i64;const e=S.CONVERSION_UINT64[0];S.CONVERSION_INT64[0]=h(i).i64;const o=S.CONVERSION_UINT64[0];W(i,(0,d.newI32)((0,f.toTruthy)(o<e)));break}case a.WASMOPCode.op_i64_gt_s:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI32)((0,f.toTruthy)(o>e)));break}case a.WASMOPCode.op_i64_gt_u:{S.CONVERSION_INT64[0]=h(i).i64;const e=S.CONVERSION_UINT64[0];S.CONVERSION_INT64[0]=h(i).i64;const o=S.CONVERSION_UINT64[0];W(i,(0,d.newI32)((0,f.toTruthy)(o>e)));break}case a.WASMOPCode.op_i64_le_s:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI32)((0,f.toTruthy)(o<=e)));break}case a.WASMOPCode.op_i64_le_u:{S.CONVERSION_INT64[0]=h(i).i64;const e=S.CONVERSION_UINT64[0];S.CONVERSION_INT64[0]=h(i).i64;const o=S.CONVERSION_UINT64[0];W(i,(0,d.newI32)((0,f.toTruthy)(o<=e)));break}case a.WASMOPCode.op_i64_ge_s:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI32)((0,f.toTruthy)(o>=e)));break}case a.WASMOPCode.op_i64_ge_u:{S.CONVERSION_INT64[0]=h(i).i64;const e=S.CONVERSION_UINT64[0];S.CONVERSION_INT64[0]=h(i).i64;const o=S.CONVERSION_UINT64[0];W(i,(0,d.newI32)((0,f.toTruthy)(o>=e)));break}case a.WASMOPCode.op_f32_eq:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newI32)((0,f.toTruthy)(o===e)));break}case a.WASMOPCode.op_f32_ne:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newI32)((0,f.toTruthy)(o!==e)));break}case a.WASMOPCode.op_f32_lt:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newI32)((0,f.toTruthy)(o<e)));break}case a.WASMOPCode.op_f32_le:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newI32)((0,f.toTruthy)(o<=e)));break}case a.WASMOPCode.op_f32_gt:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newI32)((0,f.toTruthy)(o>e)));break}case a.WASMOPCode.op_f32_ge:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newI32)((0,f.toTruthy)(o>=e)));break}case a.WASMOPCode.op_f64_eq:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newI32)((0,f.toTruthy)(o===e)));break}case a.WASMOPCode.op_f64_ne:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newI32)((0,f.toTruthy)(o!==e)));break}case a.WASMOPCode.op_f64_lt:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newI32)((0,f.toTruthy)(o<e)));break}case a.WASMOPCode.op_f64_le:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newI32)((0,f.toTruthy)(o<=e)));break}case a.WASMOPCode.op_f64_gt:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newI32)((0,f.toTruthy)(o>e)));break}case a.WASMOPCode.op_f64_ge:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newI32)((0,f.toTruthy)(o>=e)));break}case a.WASMOPCode.op_i32_clz:{const e=h(i).i32;W(i,(0,d.newI32)(Math.clz32(e)));break}case a.WASMOPCode.op_i32_ctz:{const e=h(i).i32>>>0;W(i,(0,d.newI32)((0,f.ctz32)(e)));break}case a.WASMOPCode.op_i32_popcnt:{const e=h(i).i32>>>0;W(i,(0,d.newI32)((0,f.popcnt32)(e)));break}case a.WASMOPCode.op_i32_add:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)(o+e));break}case a.WASMOPCode.op_i32_sub:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)(o-e));break}case a.WASMOPCode.op_i32_mul:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)(o*e));break}case a.WASMOPCode.op_i32_div_s:{const e=h(i).i32,o=h(i).i32;if(0===e)throw new M.RuntimeError("Division by 0");W(i,(0,d.newI32)(o/e));break}case a.WASMOPCode.op_i32_div_u:{const e=h(i).i32>>>0,o=h(i).i32>>>0;if(0===e)throw new M.RuntimeError("Division by 0");W(i,(0,d.newI32)(o/e));break}case a.WASMOPCode.op_i32_rem_s:{const e=h(i).i32,o=h(i).i32;if(0===e)throw new M.RuntimeError("Remainder by 0");W(i,(0,d.newI32)(o%e));break}case a.WASMOPCode.op_i32_rem_u:{const e=h(i).i32>>>0,o=h(i).i32>>>0;if(0===e)throw new M.RuntimeError("Remainder by 0");W(i,(0,d.newI32)(o%e));break}case a.WASMOPCode.op_i32_and:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)(o&e));break}case a.WASMOPCode.op_i32_or:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)(o|e));break}case a.WASMOPCode.op_i32_xor:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)(o^e));break}case a.WASMOPCode.op_i32_shl:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)(o<<e));break}case a.WASMOPCode.op_i32_shr_s:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)(o>>e));break}case a.WASMOPCode.op_i32_shr_u:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)(o>>>e));break}case a.WASMOPCode.op_i32_rotl:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)((0,f.rotl32)(o,e)));break}case a.WASMOPCode.op_i32_rotr:{const e=h(i).i32,o=h(i).i32;W(i,(0,d.newI32)((0,f.rotr32)(o,e)));break}case a.WASMOPCode.op_i64_clz:S.CONVERSION_UINT64[0]=h(i).i64,0===S.CONVERSION_UINT32[1]?W(i,(0,d.newI64)(BigInt(32+Math.clz32(S.CONVERSION_UINT32[0])))):W(i,(0,d.newI64)(BigInt(Math.clz32(S.CONVERSION_UINT32[1]))));break;case a.WASMOPCode.op_i64_ctz:S.CONVERSION_UINT64[0]=h(i).i64,0===S.CONVERSION_UINT32[0]?W(i,(0,d.newI64)(BigInt(32+(0,f.ctz32)(S.CONVERSION_UINT32[1])))):W(i,(0,d.newI64)(BigInt((0,f.ctz32)(S.CONVERSION_UINT32[0]))));break;case a.WASMOPCode.op_i64_popcnt:S.CONVERSION_UINT64[0]=h(i).i64,W(i,(0,d.newI64)(BigInt((0,f.popcnt32)(S.CONVERSION_UINT32[0])+(0,f.popcnt32)(S.CONVERSION_UINT32[1]))));break;case a.WASMOPCode.op_i64_add:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI64)(o+e));break}case a.WASMOPCode.op_i64_sub:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI64)(o-e));break}case a.WASMOPCode.op_i64_mul:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI64)(o*e));break}case a.WASMOPCode.op_i64_div_s:{const e=h(i).i64,o=h(i).i64;if(e===BigInt(0))throw new M.RuntimeError("Division by 0");W(i,(0,d.newI64)(o/e));break}case a.WASMOPCode.op_i64_div_u:{S.CONVERSION_INT64[0]=h(i).i64;const e=S.CONVERSION_UINT64[0];S.CONVERSION_INT64[0]=h(i).i64;const o=S.CONVERSION_UINT64[0];if(e===BigInt(0))throw new M.RuntimeError("Division by 0");W(i,(0,d.newI64)(o/e));break}case a.WASMOPCode.op_i64_rem_s:{const e=h(i).i64,o=h(i).i64;if(e===BigInt(0))throw new M.RuntimeError("Remainder by 0");W(i,(0,d.newI64)(o%e));break}case a.WASMOPCode.op_i64_rem_u:{S.CONVERSION_INT64[0]=h(i).i64;const e=S.CONVERSION_UINT64[0];S.CONVERSION_INT64[0]=h(i).i64;const o=S.CONVERSION_UINT64[0];if(e===BigInt(0))throw new M.RuntimeError("Remainder by 0");W(i,(0,d.newI64)(o%e));break}case a.WASMOPCode.op_i64_and:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI64)(o&e));break}case a.WASMOPCode.op_i64_or:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI64)(o|e));break}case a.WASMOPCode.op_i64_xor:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI64)(o^e));break}case a.WASMOPCode.op_i64_shl:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI64)(o<<e));break}case a.WASMOPCode.op_i64_shr_s:{const e=h(i).i64,o=h(i).i64;W(i,(0,d.newI64)(o>>e));break}case a.WASMOPCode.op_i64_shr_u:{const e=h(i).i64;S.CONVERSION_INT64[0]=h(i).i64;const o=S.CONVERSION_UINT64[0];W(i,(0,d.newI64)(o>>e));break}case a.WASMOPCode.op_i64_rotl:{const e=h(i).i64;S.CONVERSION_INT64[0]=h(i).i64;const o=S.CONVERSION_UINT64[0];W(i,(0,d.newI64)((0,f.rotl64)(o,e)));break}case a.WASMOPCode.op_i64_rotr:{const e=h(i).i64;S.CONVERSION_INT64[0]=h(i).i64;const o=S.CONVERSION_UINT64[0];W(i,(0,d.newI64)((0,f.rotr64)(o,e)));break}case a.WASMOPCode.op_f32_abs:{const e=h(i).f32;W(i,(0,d.newF32)(Math.abs(e)));break}case a.WASMOPCode.op_f32_neg:{const e=h(i).f32;W(i,(0,d.newF32)(-Math.abs(e)));break}case a.WASMOPCode.op_f32_ceil:{const e=h(i).f32;W(i,(0,d.newF32)(Math.ceil(e)));break}case a.WASMOPCode.op_f32_floor:{const e=h(i).f32;W(i,(0,d.newF32)(Math.floor(e)));break}case a.WASMOPCode.op_f32_trunc:{const e=h(i).f32;W(i,(0,d.newF32)(Math.trunc(e)));break}case a.WASMOPCode.op_f32_nearest:{const e=h(i).f32;W(i,(0,d.newF32)(Math.round(e)));break}case a.WASMOPCode.op_f32_sqrt:{const e=h(i).f32;W(i,(0,d.newF32)(Math.sqrt(e)));break}case a.WASMOPCode.op_f32_add:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newF32)(o+e));break}case a.WASMOPCode.op_f32_sub:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newF32)(o-e));break}case a.WASMOPCode.op_f32_mul:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newF32)(o*e));break}case a.WASMOPCode.op_f32_div:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newF32)(o/e));break}case a.WASMOPCode.op_f32_min:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newF32)(Math.min(o,e)));break}case a.WASMOPCode.op_f32_max:{const e=h(i).f32,o=h(i).f32;W(i,(0,d.newF32)(Math.max(o,e)));break}case a.WASMOPCode.op_f32_copysign:{const e=h(i).f32,o=h(i).f32;Math.sign(e)===Math.sign(o)?W(i,(0,d.newF32)(o)):W(i,(0,d.newF32)(-o));break}case a.WASMOPCode.op_f64_abs:{const e=h(i).f64;W(i,(0,d.newF64)(Math.abs(e)));break}case a.WASMOPCode.op_f64_neg:{const e=h(i).f64;W(i,(0,d.newF64)(-Math.abs(e)));break}case a.WASMOPCode.op_f64_ceil:{const e=h(i).f64;W(i,(0,d.newF64)(Math.ceil(e)));break}case a.WASMOPCode.op_f64_floor:{const e=h(i).f64;W(i,(0,d.newF64)(Math.floor(e)));break}case a.WASMOPCode.op_f64_trunc:{const e=h(i).f64;W(i,(0,d.newF64)(Math.trunc(e)));break}case a.WASMOPCode.op_f64_nearest:{const e=h(i).f64;W(i,(0,d.newF64)(Math.round(e)));break}case a.WASMOPCode.op_f64_sqrt:{const e=h(i).f64;W(i,(0,d.newF64)(Math.sqrt(e)));break}case a.WASMOPCode.op_f64_add:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newF64)(o+e));break}case a.WASMOPCode.op_f64_sub:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newF64)(o-e));break}case a.WASMOPCode.op_f64_mul:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newF64)(o*e));break}case a.WASMOPCode.op_f64_div:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newF64)(o/e));break}case a.WASMOPCode.op_f64_min:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newF64)(Math.min(o,e)));break}case a.WASMOPCode.op_f64_max:{const e=h(i).f64,o=h(i).f64;W(i,(0,d.newF64)(Math.max(o,e)));break}case a.WASMOPCode.op_f64_copysign:{const e=h(i).f64,o=h(i).f64;Math.sign(e)===Math.sign(o)?W(i,(0,d.newF64)(o)):W(i,(0,d.newF64)(-o));break}case a.WASMOPCode.op_i32_wrap_i64:{const e=h(i).i64;S.CONVERSION_UINT64[0]=e,W(i,(0,d.newI32)(S.CONVERSION_INT32[0]));break}case a.WASMOPCode.op_i32_trunc_f32_s:{const e=Math.fround(Math.trunc(h(i).f32));if(e<-2147483648||e>2147483647)throw new M.RuntimeError("Float unrepresentable as a signed int32");W(i,(0,d.newI32)(0|e));break}case a.WASMOPCode.op_i32_trunc_f32_u:{const e=Math.fround(Math.trunc(h(i).f32));if(e<0||e>4294967295)throw new M.RuntimeError("Float unrepresentable as an unsigned int32");W(i,(0,d.newI32)(0|e));break}case a.WASMOPCode.op_i32_trunc_f64_s:{const e=Math.trunc(h(i).f64);if(e<-2147483648||e>2147483647)throw new M.RuntimeError("Float unrepresentable as a signed int32");W(i,(0,d.newI32)(0|e));break}case a.WASMOPCode.op_i32_trunc_f64_u:{const e=Math.trunc(h(i).f64);if(e<0||e>4294967295)throw new M.RuntimeError("Float unrepresentable as an unsigned int32");W(i,(0,d.newI32)(0|e));break}case a.WASMOPCode.op_i64_extend_i32_s:{const e=h(i).i32;W(i,(0,d.newI64)(BigInt(e)));break}case a.WASMOPCode.op_i64_extend_i32_u:{const e=h(i).i32;W(i,(0,d.newI64)(BigInt(0|e)));break}case a.WASMOPCode.op_i64_trunc_f32_s:{const e=BigInt(Math.fround(Math.trunc(h(i).f32)));if(e<-BigInt("0x8000000000000000")||e>BigInt("0x7FFFFFFFFFFFFFFF"))throw new M.RuntimeError("Float unrepresentable as a signed int64");S.CONVERSION_INT64[0]=e,W(i,(0,d.newI64)(S.CONVERSION_INT64[0]));break}case a.WASMOPCode.op_i64_trunc_f32_u:{const e=BigInt(Math.fround(Math.trunc(h(i).f32)));if(e<BigInt(0)||e>BigInt("0xFFFFFFFFFFFFFFFF"))throw new M.RuntimeError("Float unrepresentable as a signed int64");S.CONVERSION_UINT64[0]=e,W(i,(0,d.newI64)(S.CONVERSION_INT64[0]));break}case a.WASMOPCode.op_i64_trunc_f64_s:{const e=BigInt(Math.trunc(h(i).f64));if(e<-BigInt("0x8000000000000000")||e>BigInt("0x7FFFFFFFFFFFFFFF"))throw new M.RuntimeError("Float unrepresentable as a signed int64");S.CONVERSION_INT64[0]=e,W(i,(0,d.newI64)(S.CONVERSION_INT64[0]));break}case a.WASMOPCode.op_i64_trunc_f64_u:{const e=BigInt(Math.trunc(h(i).f64));if(e<BigInt(0)||e>BigInt("0xFFFFFFFFFFFFFFFF"))throw new M.RuntimeError("Float unrepresentable as a signed int64");S.CONVERSION_UINT64[0]=e,W(i,(0,d.newI64)(S.CONVERSION_INT64[0]));break}case a.WASMOPCode.op_f32_convert_i32_s:{const e=Math.fround(0|h(i).i32);W(i,(0,d.newF32)(e));break}case a.WASMOPCode.op_f32_convert_i32_u:{const e=Math.fround(h(i).i32>>>0);W(i,(0,d.newF32)(e));break}case a.WASMOPCode.op_f32_convert_i64_s:{const e=Math.fround(0|Number(h(i).i64));W(i,(0,d.newF32)(e));break}case a.WASMOPCode.op_f32_convert_i64_u:{const e=Math.fround(Number(h(i).i64)>>>0);W(i,(0,d.newF32)(e));break}case a.WASMOPCode.op_f32_demote_f64:{const e=Math.fround(h(i).f64);W(i,(0,d.newF32)(e));break}case a.WASMOPCode.op_f64_convert_i32_s:{const e=h(i).i32;W(i,(0,d.newF64)(e));break}case a.WASMOPCode.op_f64_convert_i32_u:{const e=h(i).i32>>>0;W(i,(0,d.newF64)(e));break}case a.WASMOPCode.op_f64_convert_i64_s:{const e=Number(h(i).i64);W(i,(0,d.newF64)(e));break}case a.WASMOPCode.op_f64_convert_i64_u:{S.CONVERSION_INT64[0]=h(i).i64;const e=Number(S.CONVERSION_UINT64[0]);W(i,(0,d.newF64)(e));break}case a.WASMOPCode.op_f64_promote_f32:{const e=h(i).f32;W(i,(0,d.newF64)(e));break}case a.WASMOPCode.op_i32_reinterpret_f32:S.CONVERSION_FLOAT32[0]=h(i).f32,W(i,(0,d.newI32)(S.CONVERSION_INT32[0]));break;case a.WASMOPCode.op_i64_reinterpret_f64:S.CONVERSION_FLOAT64[0]=h(i).f64,W(i,(0,d.newI64)(S.CONVERSION_INT64[0]));break;case a.WASMOPCode.op_f32_reinterpret_i32:S.CONVERSION_INT32[0]=h(i).i32,W(i,(0,d.newF32)(S.CONVERSION_FLOAT32[0]));break;case a.WASMOPCode.op_i64_reinterpret_f64:S.CONVERSION_INT64[0]=h(i).i64,W(i,(0,d.newF64)(S.CONVERSION_FLOAT64[0]));break;case a.WASMOPCode.op_i32_extend8_s:{const e=h(i).i32;S.CONVERSION_UINT8[0]=e,W(i,(0,d.newI32)(S.CONVERSION_INT32[0]));break}case a.WASMOPCode.op_i32_extend16_s:{const e=h(i).i32;S.CONVERSION_UINT16[0]=e,W(i,(0,d.newI32)(S.CONVERSION_INT32[0]));break}case a.WASMOPCode.op_i64_extend8_s:{const e=h(i).i64;S.CONVERSION_UINT8[0]=Number(e),W(i,(0,d.newI64)(S.CONVERSION_INT64[0]));break}case a.WASMOPCode.op_i64_extend16_s:{const e=h(i).i64;S.CONVERSION_UINT8[0]=Number(e),W(i,(0,d.newI64)(S.CONVERSION_INT64[0]));break}case a.WASMOPCode.op_i64_extend32_s:{const e=h(i).i64;S.CONVERSION_UINT8[0]=Number(e),W(i,(0,d.newI64)(S.CONVERSION_INT64[0]));break}case a.WASMOPCode.op_memory_fill:{const e=h(i).i32,o=h(i).i32,t=h(i).i32;for(let i=0;i<e;++i)this.memory._buffer[t+i]=o;break}case a.WASMOPCode.op_else:case a.WASMOPCode.op_end:default:throw new M.RuntimeError(`Invalid opcode ${o}`)}}}}},223:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0});const i=t(984),_=t(317),n=t(904),a=t(438),r=t(636),s=t(451);function p(e){const o=new r.WASMLimit,t=e.read_uint8();if(o.hasMax=0!==t,t){if(o.min=e.read_uint32(),o.max=e.read_uint32(),o.min>o.max)throw new RangeError(`Limit min ${o.min} greater than max ${o.max}`)}else o.min=o.max=e.read_uint32();return o}function l(e){const o=e.read_uint8();switch(o){case s.WASMValueType.i32:case s.WASMValueType.f32:case s.WASMValueType.i64:case s.WASMValueType.f64:case s.WASMValueType.nil:return o}throw new TypeError(`Invalid value type ${o}`)}function u(e){const o=e.read_uint8();switch(o){case s.WASMRefType.funcref:case s.WASMRefType.externref:return o}throw new TypeError(`Invalid ref type ${o}`)}o.default=class{constructor(e){this.bin=e,this.lexer=new i.Reader(e)}parse(e){const o=this.lexer;for(o.read_float64();o.has();){const t=o.read_uint8();if(t>12)throw new n.CompileError(`Trying to parse invalid section ${t}`);if(e.has_section(t))throw new n.CompileError(`Section ${t} already exists`);e.sectionLengths[t]=o.read_uint32();const i=o.at;switch(t){case 0:this.parseSection0(e);break;case 1:this.parseSection1(e);break;case 2:this.parseSection2(e);break;case 3:this.parseSection3(e);break;case 4:this.parseSection4(e);break;case 5:this.parseSection5(e);break;case 6:this.parseSection6(e);break;case 7:this.parseSection7(e);break;case 8:this.parseSection8(e);break;case 9:this.parseSection9(e);break;case 10:this.parseSection10(e);break;case 11:this.parseSection11(e);break;case 12:this.parseSection12(e)}if(o.at!==i+e.sectionLengths[t])throw new RangeError(`Section ${t} has malformed length ${e.sectionLengths[t]}`)}if(o.at!==o.buf.length)throw new n.CompileError("Prematurely finished parsing the binary");e.validate()}parseSection0(e){this.lexer.at+=e.sectionLengths[0]}parseSection1(e){const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=new r.WASMFuncType,i=o.read_uint8();if(96!==i)throw new n.CompileError(`Expected 0x60 for functype, got ${i}`);const _=o.read_uint32();for(let e=0;e<_;++e){const e=l(o);t.args.push(e)}const a=o.read_uint32();if(0===a)t.ret=s.WASMValueType.nil;else{if(1!==a)throw new n.CompileError("Multireturn currently not supported");t.ret=l(o)}e.section1.content.push(t)}}parseSection2(e){if(e.has_section(3))throw new n.CompileError("Function section declared before import section");if(e.has_section(4))throw new n.CompileError("Table section declared before import section");if(e.has_section(5))throw new n.CompileError("Memory section declared before import section");if(e.has_section(6))throw new n.CompileError("Global section declared before import section");const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=new r.WASMSection2Content;switch(t.module=o.read_string(),t.name=o.read_string(),t.kind=o.read_uint8()){case s.WASMDeclType.func:t.index=o.read_uint32(),e.funcTypes.push(t.index),++e.importFunc;break;case s.WASMDeclType.global:{const i=new s.WASMGlobalType;i.type=l(o),i.mutable=0!==o.read_uint8(),t.type=i.type,e.globalTypes.push(i),++e.importGlobal;break}case s.WASMDeclType.table:t.type=o.read_uint8(),t.limits=p(o),++e.tableCount;break;case s.WASMDeclType.mem:t.limits=p(o),++e.memoryCount;break;default:throw new n.CompileError("Invalid import type")}e.section2.content.push(t)}}parseSection3(e){const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=new r.WASMSection3Content;t.index=o.read_uint32(),e.funcTypes.push(t.index),e.section3.content.push(t)}}parseSection4(e){const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=new r.WASMSection4Content,i=u(o);t.refKind=i,t.limit=p(o),e.section4.content.push(t)}e.tableCount+=t}parseSection5(e){const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=p(o);e.section5.content.push(t)}e.memoryCount+=t}parseSection6(e){const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=new r.WASMSection6Content,i=o.read_uint8();t.type.mutable=0!==o.read_uint8(),t.type.type=i,e.globalTypes.push(t.type),t.expr=this.parseCodeBlock(),e.section6.content.push(t)}}parseSection7(e){const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=new r.WASMSection7Content;t.name=o.read_string();const i=o.read_uint8();if(i>=4)throw new n.CompileError(`Invalid export type ${i}`);t.kind=i,t.index=o.read_uint32(),e.section7.content.push(t)}}parseSection8(e){const o=this.lexer;e.section8.index=o.read_uint32()}parseSection9(e){const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=new r.WASMSection9Content;t.kind=o.read_uint32(),t.offset=this.parseCodeBlock();const i=o.read_uint32();for(let e=0;e<i;++e)t.funcrefs.push(o.read_uint32());e.section9.content.push(t)}}parseSection10(e){const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=new r.WASMSection10Content;t.byteLen=o.read_uint32();const i=o.read_uint32();for(let e=0;e<i;++e){const e=o.read_uint32(),i=l(o),_=new r.WASMLocalEnum;_.count=e,_.type=i,t.locals.push(_)}t.code=this.parseCodeBlock(),e.section10.content.push(t)}}parseSection11(e){const o=this.lexer,t=o.read_uint32();for(let i=0;i<t;++i){const t=new r.WASMSection11Content,i=o.read_uint8();switch(t.kind=i,i){case 2:t.memidx=o.read_uint32();case 0:t.offset=this.parseCodeBlock();case 1:break;default:throw new n.CompileError(`Invalid data flag ${i}`)}const _=o.read_uint32();t.data=this.bin.slice(o.at,o.at+=_),e.section11.content.push(t)}}parseSection12(e){const o=this.lexer;e.section12.dataCount=o.read_uint32()}parseCodeBlock(){const e=this.lexer,o=[];for(;;){let t=e.read_uint8();if(t===a.WASMOPCode.op_end||t===a.WASMOPCode.op_else)break;252===t&&(console.error("Multibyte instructions not supported and may be ignored in interpretation"),t|=e.read_uint8()<<8);const i=new _.InstrNode;switch(o.push(i),i.instr=t,t){case a.WASMOPCode.op_block:case a.WASMOPCode.op_loop:case a.WASMOPCode.op_if:{const o=e.read_uint8();i.immediates.push(_.WASMValue.createU32Literal(o)),i.child=this.parseCodeBlock(),e.back(),e.read_uint8()===a.WASMOPCode.op_else&&(i.hasElse=!0,i.child2=this.parseCodeBlock());break}case a.WASMOPCode.op_call:{const o=e.read_uint32();i.immediates.push(_.WASMValue.createU32Literal(o));break}case a.WASMOPCode.op_call_indirect:{const o=e.read_uint32();i.immediates.push(_.WASMValue.createU32Literal(o)),0!==e.read_uint8()&&console.error("Warning: call_indirect typeuse not supported is ignored");break}case a.WASMOPCode.op_br_table:{const o=e.read_uint32();i.immediates.push(_.WASMValue.createU32Literal(o));for(let t=0;t<o;++t)i.immediates.push(_.WASMValue.createU32Literal(e.read_uint32()));const t=e.read_uint32();i.immediates.push(_.WASMValue.createU32Literal(t));break}case a.WASMOPCode.op_memory_size:case a.WASMOPCode.op_memory_grow:case a.WASMOPCode.op_memory_copy:case a.WASMOPCode.op_memory_fill:i.immediates.push(_.WASMValue.createU32Literal(e.read_uint8()));break;case a.WASMOPCode.op_i32_load8_s:case a.WASMOPCode.op_i32_load8_u:case a.WASMOPCode.op_i64_load8_s:case a.WASMOPCode.op_i64_load8_u:case a.WASMOPCode.op_i32_store8:case a.WASMOPCode.op_i32_store16:case a.WASMOPCode.op_i64_store8:case a.WASMOPCode.op_i32_load16_s:case a.WASMOPCode.op_i32_load16_u:case a.WASMOPCode.op_i64_load16_s:case a.WASMOPCode.op_i64_load16_u:case a.WASMOPCode.op_i64_store16:case a.WASMOPCode.op_i32_load:case a.WASMOPCode.op_i64_load32_s:case a.WASMOPCode.op_i64_load32_u:case a.WASMOPCode.op_f32_load:case a.WASMOPCode.op_i32_store:case a.WASMOPCode.op_i64_store32:case a.WASMOPCode.op_f32_store:case a.WASMOPCode.op_i64_load:case a.WASMOPCode.op_f64_load:case a.WASMOPCode.op_i64_store:case a.WASMOPCode.op_f64_store:{const o=e.read_uint32();i.immediates.push(_.WASMValue.createU32Literal(o)),i.immediates.push(_.WASMValue.createU32Literal(e.read_uint32()));break}case a.WASMOPCode.op_i32_const:i.immediates.push(_.WASMValue.createI32Literal(e.read_int32()));break;case a.WASMOPCode.op_i64_const:i.immediates.push(_.WASMValue.createI64Literal(e.read_int64()));break;case a.WASMOPCode.op_f32_const:i.immediates.push(_.WASMValue.createF32Literal(e.read_float32()));break;case a.WASMOPCode.op_f64_const:i.immediates.push(_.WASMValue.createF64Literal(e.read_float64()));break;case a.WASMOPCode.op_br:case a.WASMOPCode.op_br_if:case a.WASMOPCode.op_local_get:case a.WASMOPCode.op_local_set:case a.WASMOPCode.op_local_tee:case a.WASMOPCode.op_global_get:case a.WASMOPCode.op_global_set:i.immediates.push(_.WASMValue.createU32Literal(e.read_uint32()));break;default:if(!(t in a.WASMOPDefs))throw new n.CompileError(`Invalid opcode ${t}`)}}return o}}},316:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.default=class{constructor(e){if(this.init=0,this.max=0,"object"!=typeof e)throw new Error("Table options must be an object");if("number"==typeof e.maximum?this.max=e.maximum:this.max=8388608,"number"==typeof e.initial&&(this.init=e.initial),this.max<this.init)throw new Error("Table max must be no less than table init");this.max=Math.max(this.max,this.init),this.elements=new Array(this.init).fill(0)}get length(){return this.elements.length}get(e){if(e>=this.init)throw new Error("Table index out of bounds");return this.elements[e]}set(e,o){if(e>=this.init)throw new Error("Table index out of bounds");this.elements[e]=o}grow(e){e+this.init>this.max?this.init=this.max:this.init+=e;for(let o=0;o<e;++o)this.elements.push(0)}}},317:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstrNode=o.WASMValue=void 0;const i=t(438),_=t(451),n=t(444);class a{constructor(){this.type=_.WASMValueType.nil,this.value=0,this.bigval=BigInt(0)}set(e){if(this.type!==e.type)throw new TypeError(`Internal type mismatch: expected ${(0,_.typeToString)(this.type)}, got ${(0,_.typeToString)(e.type)}`);this.value=e.value,this.bigval=e.bigval}get u32(){return this.value>>>0}get i32(){return 0|this.value}get f32(){return Math.fround(this.value)}get i64(){return this.bigval}get f64(){return this.value}set u32(e){this.value=e>>>0}set i32(e){this.value=0|e}set f32(e){this.value=Math.fround(e)}set i64(e){this.bigval=e}set f64(e){this.value=e}get numeric(){return this.type===_.WASMValueType.i64?this.bigval:this.value}static createU32Literal(e){const o=new a;return o.type=_.WASMValueType.u32,o.value=e>>>0,o}static createI32Literal(e){const o=new a;return o.type=_.WASMValueType.i32,o.value=0|e,o}static createF32Literal(e){const o=new a;return o.type=_.WASMValueType.f32,o.value=Math.fround(e),o}static createI64Literal(e){const o=new a;return n.CONVERSION_INT64[0]=e,o.type=_.WASMValueType.i64,o.bigval=n.CONVERSION_INT64[0],o}static createF64Literal(e){const o=new a;return o.type=_.WASMValueType.f64,o.value=e,o}}o.WASMValue=a,o.InstrNode=class{constructor(){this.instr=i.WASMOPCode.op_nop,this.hasElse=!1,this.returnType=_.WASMValueType.nil,this.immediates=[],this.child=[],this.child2=[]}}},377:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WASMExternalGlobal=void 0;const i=t(317),_=t(451);o.WASMExternalGlobal=class{constructor(e){if(this._value=new i.WASMValue,this.mutable=!1,"boolean"==typeof e.mutable&&(this.mutable=e.mutable),"string"==typeof e.value)switch(e.value){case"i32":this._value=i.WASMValue.createI32Literal(0);break;case"f32":this._value=i.WASMValue.createF32Literal(0);break;case"i64":this._value=i.WASMValue.createI64Literal(BigInt(0));break;case"f64":this._value=i.WASMValue.createF64Literal(0)}}get type(){switch(this._value.type){case _.WASMValueType.i32:return"i32";case _.WASMValueType.f32:return"f32";case _.WASMValueType.i64:return"i64";case _.WASMValueType.f64:return"f64"}return"nil"}get value(){return this._value.numeric}}},438:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WASMOPDefs=o.WASMOPCode=void 0;const i=t(451);var _;!function(e){e[e.op_unreachable=0]="op_unreachable",e[e.op_nop=1]="op_nop",e[e.op_block=2]="op_block",e[e.op_loop=3]="op_loop",e[e.op_if=4]="op_if",e[e.op_else=5]="op_else",e[e.op_end=11]="op_end",e[e.op_br=12]="op_br",e[e.op_br_if=13]="op_br_if",e[e.op_br_table=14]="op_br_table",e[e.op_return=15]="op_return",e[e.op_call=16]="op_call",e[e.op_call_indirect=17]="op_call_indirect",e[e.op_drop=26]="op_drop",e[e.op_select=27]="op_select",e[e.op_local_get=32]="op_local_get",e[e.op_local_set=33]="op_local_set",e[e.op_local_tee=34]="op_local_tee",e[e.op_global_get=35]="op_global_get",e[e.op_global_set=36]="op_global_set",e[e.op_i32_load=40]="op_i32_load",e[e.op_i64_load=41]="op_i64_load",e[e.op_f32_load=42]="op_f32_load",e[e.op_f64_load=43]="op_f64_load",e[e.op_i32_load8_s=44]="op_i32_load8_s",e[e.op_i32_load8_u=45]="op_i32_load8_u",e[e.op_i32_load16_s=46]="op_i32_load16_s",e[e.op_i32_load16_u=47]="op_i32_load16_u",e[e.op_i64_load8_s=48]="op_i64_load8_s",e[e.op_i64_load8_u=49]="op_i64_load8_u",e[e.op_i64_load16_s=50]="op_i64_load16_s",e[e.op_i64_load16_u=51]="op_i64_load16_u",e[e.op_i64_load32_s=52]="op_i64_load32_s",e[e.op_i64_load32_u=53]="op_i64_load32_u",e[e.op_i32_store=54]="op_i32_store",e[e.op_i64_store=55]="op_i64_store",e[e.op_f32_store=56]="op_f32_store",e[e.op_f64_store=57]="op_f64_store",e[e.op_i32_store8=58]="op_i32_store8",e[e.op_i32_store16=59]="op_i32_store16",e[e.op_i64_store8=60]="op_i64_store8",e[e.op_i64_store16=61]="op_i64_store16",e[e.op_i64_store32=62]="op_i64_store32",e[e.op_memory_size=63]="op_memory_size",e[e.op_memory_grow=64]="op_memory_grow",e[e.op_i32_const=65]="op_i32_const",e[e.op_i64_const=66]="op_i64_const",e[e.op_f32_const=67]="op_f32_const",e[e.op_f64_const=68]="op_f64_const",e[e.op_i32_eqz=69]="op_i32_eqz",e[e.op_i32_eq=70]="op_i32_eq",e[e.op_i32_ne=71]="op_i32_ne",e[e.op_i32_lt_s=72]="op_i32_lt_s",e[e.op_i32_lt_u=73]="op_i32_lt_u",e[e.op_i32_gt_s=74]="op_i32_gt_s",e[e.op_i32_gt_u=75]="op_i32_gt_u",e[e.op_i32_le_s=76]="op_i32_le_s",e[e.op_i32_le_u=77]="op_i32_le_u",e[e.op_i32_ge_s=78]="op_i32_ge_s",e[e.op_i32_ge_u=79]="op_i32_ge_u",e[e.op_i64_eqz=80]="op_i64_eqz",e[e.op_i64_eq=81]="op_i64_eq",e[e.op_i64_ne=82]="op_i64_ne",e[e.op_i64_lt_s=83]="op_i64_lt_s",e[e.op_i64_lt_u=84]="op_i64_lt_u",e[e.op_i64_gt_s=85]="op_i64_gt_s",e[e.op_i64_gt_u=86]="op_i64_gt_u",e[e.op_i64_le_s=87]="op_i64_le_s",e[e.op_i64_le_u=88]="op_i64_le_u",e[e.op_i64_ge_s=89]="op_i64_ge_s",e[e.op_i64_ge_u=90]="op_i64_ge_u",e[e.op_f32_eq=91]="op_f32_eq",e[e.op_f32_ne=92]="op_f32_ne",e[e.op_f32_lt=93]="op_f32_lt",e[e.op_f32_le=94]="op_f32_le",e[e.op_f32_gt=95]="op_f32_gt",e[e.op_f32_ge=96]="op_f32_ge",e[e.op_f64_eq=97]="op_f64_eq",e[e.op_f64_ne=98]="op_f64_ne",e[e.op_f64_lt=99]="op_f64_lt",e[e.op_f64_gt=100]="op_f64_gt",e[e.op_f64_le=101]="op_f64_le",e[e.op_f64_ge=102]="op_f64_ge",e[e.op_i32_clz=103]="op_i32_clz",e[e.op_i32_ctz=104]="op_i32_ctz",e[e.op_i32_popcnt=105]="op_i32_popcnt",e[e.op_i32_add=106]="op_i32_add",e[e.op_i32_sub=107]="op_i32_sub",e[e.op_i32_mul=108]="op_i32_mul",e[e.op_i32_div_s=109]="op_i32_div_s",e[e.op_i32_div_u=110]="op_i32_div_u",e[e.op_i32_rem_s=111]="op_i32_rem_s",e[e.op_i32_rem_u=112]="op_i32_rem_u",e[e.op_i32_and=113]="op_i32_and",e[e.op_i32_or=114]="op_i32_or",e[e.op_i32_xor=115]="op_i32_xor",e[e.op_i32_shl=116]="op_i32_shl",e[e.op_i32_shr_s=117]="op_i32_shr_s",e[e.op_i32_shr_u=118]="op_i32_shr_u",e[e.op_i32_rotl=119]="op_i32_rotl",e[e.op_i32_rotr=120]="op_i32_rotr",e[e.op_i64_clz=121]="op_i64_clz",e[e.op_i64_ctz=122]="op_i64_ctz",e[e.op_i64_popcnt=123]="op_i64_popcnt",e[e.op_i64_add=124]="op_i64_add",e[e.op_i64_sub=125]="op_i64_sub",e[e.op_i64_mul=126]="op_i64_mul",e[e.op_i64_div_s=127]="op_i64_div_s",e[e.op_i64_div_u=128]="op_i64_div_u",e[e.op_i64_rem_s=129]="op_i64_rem_s",e[e.op_i64_rem_u=130]="op_i64_rem_u",e[e.op_i64_and=131]="op_i64_and",e[e.op_i64_or=132]="op_i64_or",e[e.op_i64_xor=133]="op_i64_xor",e[e.op_i64_shl=134]="op_i64_shl",e[e.op_i64_shr_s=135]="op_i64_shr_s",e[e.op_i64_shr_u=136]="op_i64_shr_u",e[e.op_i64_rotl=137]="op_i64_rotl",e[e.op_i64_rotr=138]="op_i64_rotr",e[e.op_f32_abs=139]="op_f32_abs",e[e.op_f32_neg=140]="op_f32_neg",e[e.op_f32_ceil=141]="op_f32_ceil",e[e.op_f32_floor=142]="op_f32_floor",e[e.op_f32_trunc=143]="op_f32_trunc",e[e.op_f32_nearest=144]="op_f32_nearest",e[e.op_f32_sqrt=145]="op_f32_sqrt",e[e.op_f32_add=146]="op_f32_add",e[e.op_f32_sub=147]="op_f32_sub",e[e.op_f32_mul=148]="op_f32_mul",e[e.op_f32_div=149]="op_f32_div",e[e.op_f32_min=150]="op_f32_min",e[e.op_f32_max=151]="op_f32_max",e[e.op_f32_copysign=152]="op_f32_copysign",e[e.op_f64_abs=153]="op_f64_abs",e[e.op_f64_neg=154]="op_f64_neg",e[e.op_f64_ceil=155]="op_f64_ceil",e[e.op_f64_floor=156]="op_f64_floor",e[e.op_f64_trunc=157]="op_f64_trunc",e[e.op_f64_nearest=158]="op_f64_nearest",e[e.op_f64_sqrt=159]="op_f64_sqrt",e[e.op_f64_add=160]="op_f64_add",e[e.op_f64_sub=161]="op_f64_sub",e[e.op_f64_mul=162]="op_f64_mul",e[e.op_f64_div=163]="op_f64_div",e[e.op_f64_min=164]="op_f64_min",e[e.op_f64_max=165]="op_f64_max",e[e.op_f64_copysign=166]="op_f64_copysign",e[e.op_i32_wrap_i64=167]="op_i32_wrap_i64",e[e.op_i32_trunc_f32_s=168]="op_i32_trunc_f32_s",e[e.op_i32_trunc_f32_u=169]="op_i32_trunc_f32_u",e[e.op_i32_trunc_f64_s=170]="op_i32_trunc_f64_s",e[e.op_i32_trunc_f64_u=171]="op_i32_trunc_f64_u",e[e.op_i64_extend_i32_s=172]="op_i64_extend_i32_s",e[e.op_i64_extend_i32_u=173]="op_i64_extend_i32_u",e[e.op_i64_trunc_f32_s=174]="op_i64_trunc_f32_s",e[e.op_i64_trunc_f32_u=175]="op_i64_trunc_f32_u",e[e.op_i64_trunc_f64_s=176]="op_i64_trunc_f64_s",e[e.op_i64_trunc_f64_u=177]="op_i64_trunc_f64_u",e[e.op_f32_convert_i32_s=178]="op_f32_convert_i32_s",e[e.op_f32_convert_i32_u=179]="op_f32_convert_i32_u",e[e.op_f32_convert_i64_s=180]="op_f32_convert_i64_s",e[e.op_f32_convert_i64_u=181]="op_f32_convert_i64_u",e[e.op_f32_demote_f64=182]="op_f32_demote_f64",e[e.op_f64_convert_i32_s=183]="op_f64_convert_i32_s",e[e.op_f64_convert_i32_u=184]="op_f64_convert_i32_u",e[e.op_f64_convert_i64_s=185]="op_f64_convert_i64_s",e[e.op_f64_convert_i64_u=186]="op_f64_convert_i64_u",e[e.op_f64_promote_f32=187]="op_f64_promote_f32",e[e.op_i32_reinterpret_f32=188]="op_i32_reinterpret_f32",e[e.op_i64_reinterpret_f64=189]="op_i64_reinterpret_f64",e[e.op_f32_reinterpret_i32=190]="op_f32_reinterpret_i32",e[e.op_f64_reinterpret_i64=191]="op_f64_reinterpret_i64",e[e.op_i32_extend8_s=192]="op_i32_extend8_s",e[e.op_i32_extend16_s=193]="op_i32_extend16_s",e[e.op_i64_extend8_s=194]="op_i64_extend8_s",e[e.op_i64_extend16_s=195]="op_i64_extend16_s",e[e.op_i64_extend32_s=196]="op_i64_extend32_s",e[e.op_memory_copy=2812]="op_memory_copy",e[e.op_memory_fill=3068]="op_memory_fill"}(_||(o.WASMOPCode=_={}));class n{constructor(e,o,t){this.opcode=_.op_nop,this.args=[],this.ret=i.WASMValueType.nil,this.opcode=e,this.args=o,this.ret=t}}o.WASMOPDefs={[_.op_unreachable]:new n(_.op_unreachable,[],i.WASMValueType.nil),[_.op_nop]:new n(_.op_nop,[],i.WASMValueType.nil),[_.op_block]:new n(_.op_block,[],i.WASMValueType.nil),[_.op_loop]:new n(_.op_loop,[],i.WASMValueType.nil),[_.op_if]:new n(_.op_if,[],i.WASMValueType.nil),[_.op_else]:new n(_.op_else,[],i.WASMValueType.nil),[_.op_end]:new n(_.op_end,[],i.WASMValueType.nil),[_.op_br]:new n(_.op_br,[],i.WASMValueType.nil),[_.op_br_if]:new n(_.op_br_if,[i.WASMValueType.i32],i.WASMValueType.nil),[_.op_br_table]:new n(_.op_br_table,[i.WASMValueType.i32],i.WASMValueType.nil),[_.op_return]:new n(_.op_return,[],i.WASMValueType.nil),[_.op_call]:new n(_.op_call,[],i.WASMValueType.nil),[_.op_call_indirect]:new n(_.op_call_indirect,[],i.WASMValueType.nil),[_.op_drop]:new n(_.op_drop,[],i.WASMValueType.nil),[_.op_select]:new n(_.op_select,[],i.WASMValueType.nil),[_.op_local_get]:new n(_.op_local_get,[],i.WASMValueType.nil),[_.op_local_set]:new n(_.op_local_set,[],i.WASMValueType.nil),[_.op_local_tee]:new n(_.op_local_tee,[],i.WASMValueType.nil),[_.op_global_get]:new n(_.op_global_get,[],i.WASMValueType.nil),[_.op_global_set]:new n(_.op_global_set,[],i.WASMValueType.nil),[_.op_i32_load]:new n(_.op_i32_load,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i64_load]:new n(_.op_i64_load,[i.WASMValueType.i32],i.WASMValueType.i64),[_.op_f32_load]:new n(_.op_f32_load,[i.WASMValueType.i32],i.WASMValueType.f32),[_.op_f64_load]:new n(_.op_f64_load,[i.WASMValueType.i32],i.WASMValueType.f64),[_.op_i32_load8_s]:new n(_.op_i32_load8_s,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_load8_u]:new n(_.op_i32_load8_u,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_load16_s]:new n(_.op_i32_load16_s,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_load16_u]:new n(_.op_i32_load16_u,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i64_load8_s]:new n(_.op_i64_load8_s,[i.WASMValueType.i32],i.WASMValueType.i64),[_.op_i64_load8_u]:new n(_.op_i64_load8_u,[i.WASMValueType.i32],i.WASMValueType.i64),[_.op_i64_load16_s]:new n(_.op_i64_load16_s,[i.WASMValueType.i32],i.WASMValueType.i64),[_.op_i64_load16_u]:new n(_.op_i64_load16_u,[i.WASMValueType.i32],i.WASMValueType.i64),[_.op_i64_load32_s]:new n(_.op_i64_load32_s,[i.WASMValueType.i32],i.WASMValueType.i64),[_.op_i64_load32_u]:new n(_.op_i64_load32_u,[i.WASMValueType.i32],i.WASMValueType.i64),[_.op_i32_store]:new n(_.op_i32_store,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.nil),[_.op_i64_store]:new n(_.op_i64_store,[i.WASMValueType.i32,i.WASMValueType.i64],i.WASMValueType.nil),[_.op_f32_store]:new n(_.op_f32_store,[i.WASMValueType.i32,i.WASMValueType.f32],i.WASMValueType.nil),[_.op_f64_store]:new n(_.op_f64_store,[i.WASMValueType.i32,i.WASMValueType.f64],i.WASMValueType.nil),[_.op_i32_store8]:new n(_.op_i32_store8,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.nil),[_.op_i32_store16]:new n(_.op_i32_store16,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.nil),[_.op_i64_store8]:new n(_.op_i64_store8,[i.WASMValueType.i32,i.WASMValueType.i64],i.WASMValueType.nil),[_.op_i64_store16]:new n(_.op_i64_store16,[i.WASMValueType.i32,i.WASMValueType.i64],i.WASMValueType.nil),[_.op_i64_store32]:new n(_.op_i64_store32,[i.WASMValueType.i32,i.WASMValueType.i64],i.WASMValueType.nil),[_.op_memory_size]:new n(_.op_memory_size,[],i.WASMValueType.i32),[_.op_memory_grow]:new n(_.op_memory_grow,[],i.WASMValueType.i32),[_.op_i32_const]:new n(_.op_i32_const,[],i.WASMValueType.i32),[_.op_i64_const]:new n(_.op_i64_const,[],i.WASMValueType.i64),[_.op_f32_const]:new n(_.op_f32_const,[],i.WASMValueType.f32),[_.op_f64_const]:new n(_.op_f64_const,[],i.WASMValueType.f64),[_.op_i32_eqz]:new n(_.op_i32_eqz,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_eq]:new n(_.op_i32_eq,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_ne]:new n(_.op_i32_ne,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_lt_s]:new n(_.op_i32_lt_s,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_lt_u]:new n(_.op_i32_lt_u,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_gt_s]:new n(_.op_i32_gt_s,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_gt_u]:new n(_.op_i32_gt_u,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_le_s]:new n(_.op_i32_le_s,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_le_u]:new n(_.op_i32_le_u,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_ge_s]:new n(_.op_i32_ge_s,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_ge_u]:new n(_.op_i32_ge_u,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i64_eqz]:new n(_.op_i64_eqz,[i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_eq]:new n(_.op_i64_eq,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_ne]:new n(_.op_i64_ne,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_lt_s]:new n(_.op_i64_lt_s,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_lt_u]:new n(_.op_i64_lt_u,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_gt_s]:new n(_.op_i64_gt_s,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_gt_u]:new n(_.op_i64_gt_u,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_le_s]:new n(_.op_i64_le_s,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_le_u]:new n(_.op_i64_le_u,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_ge_s]:new n(_.op_i64_ge_s,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i64_ge_u]:new n(_.op_i64_ge_u,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i32),[_.op_f32_eq]:new n(_.op_f32_eq,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.i32),[_.op_f32_ne]:new n(_.op_f32_ne,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.i32),[_.op_f32_lt]:new n(_.op_f32_lt,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.i32),[_.op_f32_le]:new n(_.op_f32_le,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.i32),[_.op_f32_gt]:new n(_.op_f32_gt,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.i32),[_.op_f32_ge]:new n(_.op_f32_ge,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.i32),[_.op_f64_eq]:new n(_.op_f64_eq,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.i32),[_.op_f64_ne]:new n(_.op_f64_ne,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.i32),[_.op_f64_lt]:new n(_.op_f64_lt,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.i32),[_.op_f64_gt]:new n(_.op_f64_gt,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.i32),[_.op_f64_le]:new n(_.op_f64_le,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.i32),[_.op_f64_ge]:new n(_.op_f64_ge,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.i32),[_.op_i32_clz]:new n(_.op_i32_clz,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_ctz]:new n(_.op_i32_ctz,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_popcnt]:new n(_.op_i32_popcnt,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_add]:new n(_.op_i32_add,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_sub]:new n(_.op_i32_sub,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_mul]:new n(_.op_i32_mul,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_div_s]:new n(_.op_i32_div_s,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_div_u]:new n(_.op_i32_div_u,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_rem_s]:new n(_.op_i32_rem_s,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_rem_u]:new n(_.op_i32_rem_u,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_and]:new n(_.op_i32_and,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_or]:new n(_.op_i32_or,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_xor]:new n(_.op_i32_xor,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_shl]:new n(_.op_i32_shl,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_shr_s]:new n(_.op_i32_shr_s,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_shr_u]:new n(_.op_i32_shr_u,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_rotl]:new n(_.op_i32_rotl,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_rotr]:new n(_.op_i32_rotr,[i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i64_clz]:new n(_.op_i64_clz,[i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_ctz]:new n(_.op_i64_ctz,[i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_popcnt]:new n(_.op_i64_popcnt,[i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_add]:new n(_.op_i64_add,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_sub]:new n(_.op_i64_sub,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_mul]:new n(_.op_i64_mul,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_div_s]:new n(_.op_i64_div_s,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_div_u]:new n(_.op_i64_div_u,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_rem_s]:new n(_.op_i64_rem_s,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_rem_u]:new n(_.op_i64_rem_u,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_and]:new n(_.op_i64_and,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_or]:new n(_.op_i64_or,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_xor]:new n(_.op_i64_xor,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_shl]:new n(_.op_i64_shl,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_shr_s]:new n(_.op_i64_shr_s,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_shr_u]:new n(_.op_i64_shr_u,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_rotl]:new n(_.op_i64_rotl,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_rotr]:new n(_.op_i64_rotr,[i.WASMValueType.i64,i.WASMValueType.i64],i.WASMValueType.i64),[_.op_f32_abs]:new n(_.op_f32_abs,[i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_neg]:new n(_.op_f32_neg,[i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_ceil]:new n(_.op_f32_ceil,[i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_floor]:new n(_.op_f32_floor,[i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_trunc]:new n(_.op_f32_trunc,[i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_nearest]:new n(_.op_f32_nearest,[i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_sqrt]:new n(_.op_f32_sqrt,[i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_add]:new n(_.op_f32_add,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_sub]:new n(_.op_f32_sub,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_mul]:new n(_.op_f32_mul,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_div]:new n(_.op_f32_div,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_min]:new n(_.op_f32_min,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_max]:new n(_.op_f32_max,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f32_copysign]:new n(_.op_f32_copysign,[i.WASMValueType.f32,i.WASMValueType.f32],i.WASMValueType.f32),[_.op_f64_abs]:new n(_.op_f64_abs,[i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_neg]:new n(_.op_f64_neg,[i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_ceil]:new n(_.op_f64_ceil,[i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_floor]:new n(_.op_f64_floor,[i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_trunc]:new n(_.op_f64_trunc,[i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_nearest]:new n(_.op_f64_nearest,[i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_sqrt]:new n(_.op_f64_sqrt,[i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_add]:new n(_.op_f64_add,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_sub]:new n(_.op_f64_sub,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_mul]:new n(_.op_f64_mul,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_div]:new n(_.op_f64_div,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_min]:new n(_.op_f64_min,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_max]:new n(_.op_f64_max,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.f64),[_.op_f64_copysign]:new n(_.op_f64_copysign,[i.WASMValueType.f64,i.WASMValueType.f64],i.WASMValueType.f64),[_.op_i32_wrap_i64]:new n(_.op_i32_wrap_i64,[i.WASMValueType.i64],i.WASMValueType.i32),[_.op_i32_trunc_f32_s]:new n(_.op_i32_trunc_f32_s,[i.WASMValueType.f32],i.WASMValueType.i32),[_.op_i32_trunc_f32_u]:new n(_.op_i32_trunc_f32_u,[i.WASMValueType.f32],i.WASMValueType.i32),[_.op_i32_trunc_f64_s]:new n(_.op_i32_trunc_f64_s,[i.WASMValueType.f64],i.WASMValueType.i32),[_.op_i32_trunc_f64_u]:new n(_.op_i32_trunc_f64_u,[i.WASMValueType.f64],i.WASMValueType.i32),[_.op_i64_extend_i32_s]:new n(_.op_i64_extend_i32_s,[i.WASMValueType.i32],i.WASMValueType.i64),[_.op_i64_extend_i32_u]:new n(_.op_i64_extend_i32_u,[i.WASMValueType.i32],i.WASMValueType.i64),[_.op_i64_trunc_f32_s]:new n(_.op_i64_trunc_f32_s,[i.WASMValueType.f32],i.WASMValueType.i64),[_.op_i64_trunc_f32_u]:new n(_.op_i64_trunc_f32_u,[i.WASMValueType.f32],i.WASMValueType.i64),[_.op_i64_trunc_f64_s]:new n(_.op_i64_trunc_f64_s,[i.WASMValueType.f64],i.WASMValueType.i64),[_.op_i64_trunc_f64_u]:new n(_.op_i64_trunc_f64_u,[i.WASMValueType.f64],i.WASMValueType.i64),[_.op_f32_convert_i32_s]:new n(_.op_f32_convert_i32_s,[i.WASMValueType.i32],i.WASMValueType.f32),[_.op_f32_convert_i32_u]:new n(_.op_f32_convert_i32_u,[i.WASMValueType.i32],i.WASMValueType.f32),[_.op_f32_convert_i64_s]:new n(_.op_f32_convert_i64_s,[i.WASMValueType.i64],i.WASMValueType.f32),[_.op_f32_convert_i64_u]:new n(_.op_f32_convert_i64_u,[i.WASMValueType.i64],i.WASMValueType.f32),[_.op_f32_demote_f64]:new n(_.op_f32_demote_f64,[i.WASMValueType.f64],i.WASMValueType.f32),[_.op_f64_convert_i32_s]:new n(_.op_f64_convert_i32_s,[i.WASMValueType.i32],i.WASMValueType.f64),[_.op_f64_convert_i32_u]:new n(_.op_f64_convert_i32_u,[i.WASMValueType.i32],i.WASMValueType.f64),[_.op_f64_convert_i64_s]:new n(_.op_f64_convert_i64_s,[i.WASMValueType.i64],i.WASMValueType.f64),[_.op_f64_convert_i64_u]:new n(_.op_f64_convert_i64_u,[i.WASMValueType.i64],i.WASMValueType.f64),[_.op_f64_promote_f32]:new n(_.op_f64_promote_f32,[i.WASMValueType.f32],i.WASMValueType.f64),[_.op_i32_reinterpret_f32]:new n(_.op_i32_reinterpret_f32,[i.WASMValueType.f32],i.WASMValueType.i32),[_.op_i64_reinterpret_f64]:new n(_.op_i64_reinterpret_f64,[i.WASMValueType.f64],i.WASMValueType.i64),[_.op_f32_reinterpret_i32]:new n(_.op_f32_reinterpret_i32,[i.WASMValueType.i32],i.WASMValueType.f32),[_.op_f64_reinterpret_i64]:new n(_.op_f64_reinterpret_i64,[i.WASMValueType.i64],i.WASMValueType.f64),[_.op_i32_extend8_s]:new n(_.op_i32_extend8_s,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i32_extend16_s]:new n(_.op_i32_extend16_s,[i.WASMValueType.i32],i.WASMValueType.i32),[_.op_i64_extend8_s]:new n(_.op_i64_extend8_s,[i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_extend16_s]:new n(_.op_i64_extend16_s,[i.WASMValueType.i64],i.WASMValueType.i64),[_.op_i64_extend32_s]:new n(_.op_i64_extend32_s,[i.WASMValueType.i64],i.WASMValueType.i64),[_.op_memory_copy]:new n(_.op_memory_copy,[i.WASMValueType.i32,i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.nil),[_.op_memory_fill]:new n(_.op_memory_fill,[i.WASMValueType.i32,i.WASMValueType.i32,i.WASMValueType.i32],i.WASMValueType.nil)}},444:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CONVERSION_FLOAT64=o.CONVERSION_INT64=o.CONVERSION_UINT64=o.CONVERSION_FLOAT32=o.CONVERSION_INT32=o.CONVERSION_UINT32=o.CONVERSION_INT16=o.CONVERSION_UINT16=o.CONVERSION_INT8=o.CONVERSION_UINT8=void 0,o.toConvert=function(e,t,i){if(t<0||t+i>e.length)throw new RangeError(`Memory slice [${t}, ${t+i}] out of bounds`);o.CONVERSION_UINT8.set(e.subarray(t,t+i),0)},o.fromConvert=function(e,t,i){if(t<0||t+i>e.length)throw new RangeError(`Memory slice [${t}, ${t+i}] out of bounds`);e.set(o.CONVERSION_UINT8.subarray(0,i),t)};const t=new ArrayBuffer(8);o.CONVERSION_UINT8=new Uint8Array(t),o.CONVERSION_INT8=new Int8Array(t),o.CONVERSION_UINT16=new Uint16Array(t),o.CONVERSION_INT16=new Int16Array(t),o.CONVERSION_UINT32=new Uint32Array(t),o.CONVERSION_INT32=new Int32Array(t),o.CONVERSION_FLOAT32=new Float32Array(t),o.CONVERSION_UINT64=new BigUint64Array(t),o.CONVERSION_INT64=new BigInt64Array(t),o.CONVERSION_FLOAT64=new Float64Array(t)},451:(e,o)=>{var t,i,_;function n(e){switch(e){case t.nil:return"nil";case t.i32:return"i32";case t.f32:return"f32";case t.i64:return"i64";case t.f64:return"f32"}return"unk"}Object.defineProperty(o,"__esModule",{value:!0}),o.WASMGlobalType=o.WASMRefType=o.WASMDeclType=o.WASMValueType=void 0,o.typeToString=n,o.typeArrayToString=function(e){return e.map((e=>n(e))).join(" ")},function(e){e[e.nil=64]="nil",e[e.f64=124]="f64",e[e.f32=125]="f32",e[e.i64=126]="i64",e[e.i32=127]="i32",e[e.u32=128]="u32"}(t||(o.WASMValueType=t={})),function(e){e[e.func=0]="func",e[e.table=1]="table",e[e.mem=2]="mem",e[e.global=3]="global"}(i||(o.WASMDeclType=i={})),function(e){e[e.funcref=112]="funcref",e[e.externref=111]="externref"}(_||(o.WASMRefType=_={})),o.WASMGlobalType=class{constructor(){this.mutable=!1,this.type=t.i32}}},560:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.convertToExecForm=function(e){const o=new i.FixedLengthWriter;for(let t=0;t<e.section10.content.length;++t)o.write_u32(0);if(e.has_section(10))for(let t=0;t<e.section10.content.length;++t){const i=e.section10.content[t];o.retroactive_write_u32(o.at,4*t);const _=e.section1.content[e.section3.content[t].index];o.write_u32(_.args.length);let a=0;for(const e of i.locals)a+=e.count;o.write_u32(a),s(o,i.code,[],[]),o.write_u8(n.WASMOPCode.op_return)}return o.toBuffer()};const i=t(984),_=t(904),n=t(438),a=t(451);function r(e,o){switch(o.type){case a.WASMValueType.u32:e.write_u32(o.u32);break;case a.WASMValueType.i32:e.write_i32(o.i32);break;case a.WASMValueType.f32:e.write_f32(o.f32);break;case a.WASMValueType.i64:e.write_i64(o.i64);break;case a.WASMValueType.f64:e.write_f64(o.f64)}}function s(e,o,t,i){for(const a of o){if(a.instr===n.WASMOPCode.op_end)break;switch(e.write_instr(a.instr),a.instr){case n.WASMOPCode.op_block:{t.push([]),s(e,a.child,t,i);const o=t.pop();if(null==o)throw new _.CompileError("Empty blockPtrStack, impossible");for(const t of o)e.retroactive_write_u32(e.at,t);break}case n.WASMOPCode.op_if:{const o=e.at;if(e.write_u32(0),t.push([]),s(e,a.child,t,i),a.hasElse){e.write_u8(n.WASMOPCode.op_br);const _=e.at;e.write_u32(0),e.retroactive_write_u32(e.at,o),s(e,a.child2,t,i),e.retroactive_write_u32(e.at,_)}else e.retroactive_write_u32(e.at,o);const r=t.pop();if(null==r)throw new _.CompileError("Empty blockPtrStack, impossible");for(const o of r)e.retroactive_write_u32(e.at,o);break}case n.WASMOPCode.op_loop:{const o=e.at;t.push([]),s(e,a.child,t,i);const n=t.pop();if(null==n)throw new _.CompileError("Empty blockPtrStack, impossible");for(const t of n)e.retroactive_write_u32(o,t);break}case n.WASMOPCode.op_br_if:case n.WASMOPCode.op_br:{const o=a.immediates[0].u32;if(o>=t.length)throw new RangeError(`Branch depth ${o} OOB, max is ${t.length-1}`);t[t.length-o-1].push(e.at),e.write_u32(0);break}case n.WASMOPCode.op_br_table:e.write_u32(a.immediates[0].u32);for(let o=0;o<a.immediates[0].u32+1;o++){const i=a.immediates[o+1].u32;if(i>=t.length)throw new RangeError(`Branch depth ${i} OOB, max is ${t.length-1}`);t[t.length-i-1].push(e.at),e.write_u32(0)}break;case n.WASMOPCode.op_call:e.write_u32(a.immediates[0].u32);break;case n.WASMOPCode.op_call_indirect:case n.WASMOPCode.op_memory_size:case n.WASMOPCode.op_memory_grow:case n.WASMOPCode.op_memory_copy:break;case n.WASMOPCode.op_i32_load:case n.WASMOPCode.op_i32_load8_s:case n.WASMOPCode.op_i32_load8_u:case n.WASMOPCode.op_i32_load16_s:case n.WASMOPCode.op_i32_load16_u:case n.WASMOPCode.op_i64_load:case n.WASMOPCode.op_i64_load8_s:case n.WASMOPCode.op_i64_load8_u:case n.WASMOPCode.op_i64_load16_s:case n.WASMOPCode.op_i64_load16_u:case n.WASMOPCode.op_i64_load32_s:case n.WASMOPCode.op_i64_load32_u:case n.WASMOPCode.op_f32_load:case n.WASMOPCode.op_f64_load:case n.WASMOPCode.op_i32_store:case n.WASMOPCode.op_i32_store8:case n.WASMOPCode.op_i32_store16:case n.WASMOPCode.op_i64_store:case n.WASMOPCode.op_i64_store8:case n.WASMOPCode.op_i64_store16:case n.WASMOPCode.op_i64_store32:case n.WASMOPCode.op_f32_store:case n.WASMOPCode.op_f64_store:e.write_u32(a.immediates[1].u32);break;case n.WASMOPCode.op_i32_const:case n.WASMOPCode.op_i64_const:case n.WASMOPCode.op_f32_const:case n.WASMOPCode.op_f64_const:r(e,a.immediates[0]);break;case n.WASMOPCode.op_local_get:case n.WASMOPCode.op_local_set:case n.WASMOPCode.op_local_tee:case n.WASMOPCode.op_global_get:case n.WASMOPCode.op_global_set:e.write_u32(a.immediates[0].u32)}}}},636:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WASMSection12Content=o.WASMSection11Content=o.WASMSection10Content=o.WASMSection9Content=o.WASMLocalEnum=o.WASMSection8Content=o.WASMSection7Content=o.WASMSection6Content=o.WASMSection4Content=o.WASMSection3Content=o.WASMSection2Content=o.WASMLimit=o.WASMFuncType=o.WASMSection=void 0;const i=t(451);o.WASMSection=class{constructor(){this.content=[]}},o.WASMFuncType=class{constructor(){this.args=[],this.ret=i.WASMValueType.nil}};class _{constructor(){this.hasMax=!1,this.min=0,this.max=0}}o.WASMLimit=_,o.WASMSection2Content=class{constructor(){this.module="",this.name="",this.kind=i.WASMDeclType.func,this.index=0,this.type=i.WASMValueType.nil,this.limits=new _}},o.WASMSection3Content=class{constructor(){this.index=0}},o.WASMSection4Content=class{constructor(){this.refKind=i.WASMRefType.funcref,this.limit=new _}},o.WASMSection6Content=class{constructor(){this.type=new i.WASMGlobalType,this.expr=[]}},o.WASMSection7Content=class{constructor(){this.name="",this.kind=0,this.index=0}},o.WASMSection8Content=class{constructor(){this.byteLen=0,this.index=0}},o.WASMLocalEnum=class{constructor(){this.type=i.WASMValueType.i32,this.count=0}},o.WASMSection9Content=class{constructor(){this.kind=0,this.offset=[],this.funcrefs=[]}},o.WASMSection10Content=class{constructor(){this.byteLen=0,this.locals=[],this.code=[]}},o.WASMSection11Content=class{constructor(){this.kind=0,this.memidx=0,this.offset=[],this.data=new Uint8Array(0)}},o.WASMSection12Content=class{constructor(){this.byteLen=0,this.dataCount=0}}},763:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.__debug_val_length=function(){return _.length},o.cloneValue=function(e){const o=new i.WASMValue;return o.type=e.type,o.value=e.value,o.bigval=e.bigval,o},o.newValue=function(){return new i.WASMValue},o.newI32=function(e){return i.WASMValue.createI32Literal(e)},o.newF32=function(e){return i.WASMValue.createF32Literal(e)},o.newI64=function(e){return i.WASMValue.createI64Literal(e)},o.newF64=function(e){return i.WASMValue.createF64Literal(e)},o.freeVal=function(e){_.push(e)};const i=t(317),_=[]},830:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toTruthy=function(e){return e?1:0},o.popcnt32=function(e){let o=0;return e>>>=0,e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,o+=63&(e+=e>>16),o},o.ctz32=function(e){return 0==(e>>>=0)?32:(e&=-e,31-Math.clz32(e))},o.rotl32=function(e,o){return e<<(o&=31)|e>>>32-o},o.rotr32=function(e,o){return e>>>(o&=31)|e<<32-o},o.rotl64=function(e,o){return e<<(o&=BigInt(63))|e>>BigInt(64)-o},o.rotr64=function(e,o){return e>>(o&=BigInt(63))|e<<BigInt(64)-o}},904:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CompileError=o.RuntimeError=o.LinkError=void 0,o.LinkError=Error,o.RuntimeError=Error,o.CompileError=Error},928:function(e,o,t){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});const _=i(t(223)),n=i(t(51));class a extends n.default{constructor(e){super();const o=new Uint8Array(e);new _.default(o).parse(this)}}o.default=a},973:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.default=class{constructor(e){if(this.buffer=new ArrayBuffer,this._buffer=new Uint8Array(this.buffer),this.init=0,this.max=0,"object"!=typeof e)throw new Error("Invalid memory options: must be an object");if("number"==typeof e.maximum&&(this.max=e.maximum),"number"==typeof e.initial&&(this.init=e.initial),this.max<this.init)throw new Error("Memory limit must be greater than initial");this.max=Math.max(this.max,this.init),this.buffer=new ArrayBuffer(65536*this.init),this._buffer=new Uint8Array(this.buffer)}get length(){return 65536*this.init}}},984:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FixedLengthReader=o.FixedLengthWriter=o.Reader=void 0;const i=t(444),_=new TextDecoder;o.Reader=class{constructor(e){this.buf=e,this.at=0}has(){return this.at<this.buf.length}back(){this.at>0&&this.at--}read_uint8(){if(this.at>=this.buf.length)throw new Error("Unexpected EOF");return this.buf[this.at++]}read_uint32(){i.CONVERSION_UINT32[0]=0;let e=0,o=this.read_uint8();for(;128&o&&(i.CONVERSION_UINT32[0]|=(127&o)<<e,e+=7,!(e>=32));)o=this.read_uint8();return i.CONVERSION_UINT32[0]|=o<<e,i.CONVERSION_UINT32[0]}read_int32(){i.CONVERSION_INT32[0]=0;let e=0,o=this.read_uint8();for(;128&o&&(i.CONVERSION_INT32[0]|=(127&o)<<e,e+=7,!(e>=32));)o=this.read_uint8();return i.CONVERSION_INT32[0]|=o<<e,64&o&&e<=21&&(i.CONVERSION_INT32[0]|=-1<<e+7),i.CONVERSION_INT32[0]}read_uint64(){i.CONVERSION_UINT64[0]=BigInt(0);let e=BigInt(0),o=BigInt(this.read_uint8());for(;o&BigInt(128)&&(i.CONVERSION_UINT64[0]|=(o&BigInt(127))<<e,e+=BigInt(7),!(e>=BigInt(64)));)o=BigInt(this.read_uint8());return i.CONVERSION_UINT64[0]|=o<<e,i.CONVERSION_UINT64[0]}read_int64(){i.CONVERSION_INT64[0]=BigInt(0);let e=BigInt(0),o=BigInt(this.read_uint8());for(;o&BigInt(128)&&(i.CONVERSION_INT64[0]|=(o&BigInt(127))<<e,e+=BigInt(7),!(e>=BigInt(64)));)o=BigInt(this.read_uint8());return i.CONVERSION_INT64[0]|=o<<e,o&BigInt(64)&&e<=BigInt(56)&&(i.CONVERSION_INT64[0]|=~BigInt(0)<<e+BigInt(7)),i.CONVERSION_INT64[0]}read_float32(){return this.at+4>=this.buf.length?0:(i.CONVERSION_UINT8.set(this.buf.subarray(this.at,this.at+=4),0),i.CONVERSION_FLOAT32[0])}read_float64(){return this.at+8>=this.buf.length?0:(i.CONVERSION_UINT8.set(this.buf.subarray(this.at,this.at+=8),0),i.CONVERSION_FLOAT64[0])}read_string(){const e=this.read_uint32();return this.at+e>=this.buf.length?"":_.decode(this.buf.slice(this.at,this.at+=e))}},o.FixedLengthWriter=class{constructor(){this.buf=[],this.at=0}toBuffer(){return new Uint8Array(this.buf)}write_u8(e){i.CONVERSION_UINT8[0]=e,this.buf[this.at++]=i.CONVERSION_UINT8[0]}write_instr(e){this.write_u8(e),252==(255&e)&&this.write_u8(e>>8)}retroactive_write_u32(e,o){i.CONVERSION_UINT32[0]=e;for(let e=0;e<4;++e)this.buf[o+e]=i.CONVERSION_UINT8[e]}write_u32(e){i.CONVERSION_UINT32[0]=e;for(let e=0;e<4;++e)this.buf[this.at++]=i.CONVERSION_UINT8[e]}write_i32(e){i.CONVERSION_INT32[0]=e;for(let e=0;e<4;++e)this.buf[this.at++]=i.CONVERSION_UINT8[e]}write_f32(e){i.CONVERSION_FLOAT32[0]=e;for(let e=0;e<4;++e)this.buf[this.at++]=i.CONVERSION_UINT8[e]}write_i64(e){i.CONVERSION_INT64[0]=e;for(let e=0;e<8;++e)this.buf[this.at++]=i.CONVERSION_UINT8[e]}write_f64(e){i.CONVERSION_FLOAT64[0]=e;for(let e=0;e<8;++e)this.buf[this.at++]=i.CONVERSION_UINT8[e]}},o.FixedLengthReader=class{constructor(e){this.at=0,this.buf=e}read_u8(){return this.buf[this.at++]}read_instr(){const e=this.read_u8();return 252===e?this.read_u8()<<8|e:e}read_u32(){for(let e=0;e<4;++e)i.CONVERSION_UINT8[e]=this.read_u8();return i.CONVERSION_UINT32[0]}read_i32(){for(let e=0;e<4;++e)i.CONVERSION_UINT8[e]=this.read_u8();return i.CONVERSION_INT32[0]}read_f32(){for(let e=0;e<4;++e)i.CONVERSION_UINT8[e]=this.read_u8();return i.CONVERSION_FLOAT32[0]}read_i64(){for(let e=0;e<8;++e)i.CONVERSION_UINT8[e]=this.read_u8();return i.CONVERSION_INT64[0]}read_f64(){for(let e=0;e<8;++e)i.CONVERSION_UINT8[e]=this.read_u8();return i.CONVERSION_FLOAT64[0]}}}},o={},t=function t(i){var _=o[i];if(void 0!==_)return _.exports;var n=o[i]={exports:{}};return e[i].call(n.exports,n,n.exports,t),n.exports}(156);return t.default})()));